{
  "state_machine": {
    "initial_state": "analyzing",
    "checkpoint_interval": 300,
    "max_iterations": 10000,
    "transitions": [
      {"from": "analyzing", "to": "planning", "condition": "metrics_collected"},
      {"from": "planning", "to": "executing", "condition": "violations_prioritized"},
      {"from": "executing", "to": "validating", "condition": "refactor_applied"},
      {"from": "validating", "to": "analyzing", "condition": "tests_pass"},
      {"from": "validating", "to": "reverting", "condition": "tests_fail"},
      {"from": "reverting", "to": "planning", "condition": "rollback_complete"}
    ]
  },
  "metrics": {
    "complexity_cyclomatic": 10,
    "complexity_cognitive": 15,
    "tdg_threshold": 15.0,
    "satd_auto_fix": true,
    "dead_code_remove": true,
    "duplicate_threshold": 0.85
  },
  "operations": {
    "extract_function": {"min_lines": 10, "max_complexity": 8},
    "inline_variable": {"single_use": true},
    "remove_dead_code": {"confidence": 0.95},
    "fix_satd": {"patterns": ["TODO", "FIXME", "HACK", "XXX"]},
    "reduce_nesting": {"max_depth": 3},
    "split_module": {"max_lines": 500}
  },
  "validation": {
    "run_tests": "make test-fast",
    "check_coverage": "cargo tarpaulin --out Xml --timeout 300",
    "lint_check": "make lint",
    "rollback_on_failure": true
  },
  "output": {
    "deep_context": "./deep_context_state.json",
    "checklist": "docs/bugs/prepare-release.md",
    "state_log": "refactor_state.log",
    "metrics_snapshot": "metrics_evolution.jsonl"
  }
}
